kernel.renderer.registrar_pagelet("menu_filtros",function(a){var c="#"+a.id;var b=a.mensajes;return{get_params_filtro:function(){var d="";$("#form_filtros input").each(function(){if($(this).is(":checked")){d=d+$(this).val()+","}});return d},get_estados_filtro:function(){var f=$(c+' a[filtro="cursada"]').attr("estado");var d=$(c+' a[filtro="examen"]').attr("estado");var e=$(c+' a[filtro="reconocimientos"]').attr("estado");return"e_cu="+f+"&e_ex="+d+"&e_re="+e},onload:function(){if(a.checks){$.each(a.checks,function(f,g){$(c+' input[type="checkbox"][value="'+g+'"]').prop("checked",true)})}$(c+" input").on("click",function(){kernel.evts.disparar("filtrar")});$(c+" a").on("click",function(){var f=$(this).attr("filtro");var g=$(this).attr("estado");if(f=="todo"){$(c+" input").prop("checked",true);$(c+" a[estado]").attr("estado","A")}if(f=="ninguno"){$(c+" input").prop("checked",false);$(c+" a[estado]").attr("estado","A")}if(f=="cursada"){if(g=="A"){$(c+" input."+f).prop("checked",false);$(c+" input#cursadasAprobadas").prop("checked",true);$(c+" input#cursadasPromocionadas").prop("checked",true);$(c+" input#enCurso").prop("checked",true);$(this).attr("estado","T")}if(g=="T"){$(c+" input."+f).prop("checked",true);$(this).attr("estado","N")}if(g=="N"){$(c+" input."+f).prop("checked",false);$(this).attr("estado","A")}}if(f=="examen"){if(g=="A"){$(c+" input."+f).prop("checked",false);$(c+" input#examenesAprobados").prop("checked",true);$(this).attr("estado","T")}if(g=="T"){$(c+" input."+f).prop("checked",true);$(this).attr("estado","N")}if(g=="N"){$(c+" input."+f).prop("checked",false);$(this).attr("estado","A")}}if(f=="reconocimientos"){if(g=="A"){$(c+" input."+f).prop("checked",false);$(c+" input#equivalenciasAprobadas").prop("checked",true);$(c+" input#resolucionesAprobadas").prop("checked",true);$(c+" input#creditos").prop("checked",true);$(this).attr("estado","T")}if(g=="T"){$(c+" input."+f).prop("checked",true);$(this).attr("estado","N")}if(g=="N"){$(c+" input."+f).prop("checked",false);$(this).attr("estado","A")}}kernel.evts.disparar("filtrar");return false});kernel.evts.escuchar("consulta_habitual",e);kernel.evts.escuchar("mostrar_filtros",d);function d(){$(c+" #filtros").removeClass("visible-desktop")}function e(f){if(f.consulta=="mats_en_curso"){$(c+" input#enCurso").prop("checked",true)}if(f.consulta=="curs_aprobadas"){$(c+" input#cursadasAprobadas").prop("checked",true);$(c+" input#cursadasPromocionadas").prop("checked",true)}if(f.consulta=="mats_aprobadas"){$(c+" input#cursadasPromocionadas").prop("checked",true);$(c+" input#examenesAprobados").prop("checked",true);$(c+" input#equivalenciasAprobadas").prop("checked",true);$(c+" input#resolucionesAprobadas").prop("checked",true)}if(f.consulta=="todo"){$(c+" input").prop("checked",true)}kernel.evts.disparar("filtrar");return false}}}});